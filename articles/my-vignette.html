<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="UnilSports">
<title>Introduction to UnilSports package • UnilSports</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to UnilSports package">
<meta property="og:description" content="UnilSports">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">UnilSports</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/my-vignette.html">Introduction to UnilSports package</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction to UnilSports package</h1>
                        <h4 data-toc-skip class="author">Nadine Obeid,
Manunpat Sirijaturaporn, Katti Irastorza, Arturo Garcia Luna
Beltran</h4>
            
            <h4 data-toc-skip class="date">December 2022</h4>
      
      
      <div class="d-none name"><code>my-vignette.Rmd</code></div>
    </div>

    
    
<p>The UnilSports makes it easier for UNIL/EPFL users or people
interested in the activities of the University of Lausanne Sports Center
to find their preferred sport by optimizing the time schedules(<em>if
some of the sports selected overlap, this package will handle it</em>).
In addition, from the selected sports and time schedules the optimum
value of calorie burn will be selected, so the user can get as an output
the most efficient sport schedule, calorie burn and time duration.</p>
<p>This document introduces you to UnilSports’ basic set of tools and
show how to apply them in the datasets provided. Furthermore, I will
guide you across the several functions, so that you are able to run the
shiny application for the interactive visualizations.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">UnilSports</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="data-preparation">Data preparation<a class="anchor" aria-label="anchor" href="#data-preparation"></a>
</h2>
<p>This is one of the main points to understand, in order to use this
package. Due to the dependency of the information from the Unil Sports
center website, we had to consider and automatic way for the retrieval
of this information. Therefore, we have added these functions
<code>webscrape_sports</code> and <code>webscrape_MET</code> for this
automatic task that will be later explained.</p>
<p>The data sets available in this package are related to some of the
functions as we have explained. Let’s go through each of them so it is
more clear.</p>
<div class="section level3">
<h3 id="sport-schedule">Sport Schedule<a class="anchor" aria-label="anchor" href="#sport-schedule"></a>
</h3>
<p>This dataset contains the sports activities from the Unil Sports
center for a week. It will depend on the day that was computed, so it
may be a different date that appears for you but the structure remains
the same.</p>
<p>To know about what represent each columns please use this command in
the console. <code><a href="../reference/sport_schedule.html">?sport_schedule</a></code></p>
<div class="section level4">
<h4 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h4>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># To load the data</span></span>
<span><span class="fu">UnilSports</span><span class="fu">::</span><span class="va"><a href="../reference/sport_schedule.html">sport_schedule</a></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 506 × 4</span></span></span>
<span><span class="co">#&gt;   Date       Timetable     Activity                                  Location   </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2022-12-14 07:00 – 08:00 Réveil musculaire (Cours hybride)         CSS-Salle …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2022-12-14 08:00 – 09:00 Football / Pratique libre                 Rugby-Foot…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2022-12-14 08:00 – 09:00 Basketball / Pratique libre à l'extérieur Basket Ent…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2022-12-14 08:00 – 09:00 Football / Pratique libre                 Terrain Ce…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 502 more rows</span></span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="met-values">MET Values<a class="anchor" aria-label="anchor" href="#met-values"></a>
</h3>
<p>This dataset contains the metabolic equivalent of task (MET) of each
exercise activity (821 sub-activities in total). These values will be
use on the <code>optimize_schedule</code> function, so it can compute
the calorie burn per activity.</p>
<p>To find out what each column represents, use the
<code><a href="../reference/met_values.html">?met_values</a></code> command in the console.</p>
<div class="section level4">
<h4 id="example-1">Example<a class="anchor" aria-label="anchor" href="#example-1"></a>
</h4>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># To load the data</span></span>
<span><span class="fu">UnilSports</span><span class="fu">::</span><span class="va"><a href="../reference/met_values.html">met_values</a></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 821 × 3</span></span></span>
<span><span class="co">#&gt;   Activity  `Specific Motion`                         METs</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> bicycling bicycling, mountain, uphill, vigorous     14  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> bicycling bicycling, mountain, competitive, racing  16  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> bicycling bicycling, BMX                             8.5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> bicycling bicycling, mountain, general               8.5</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 817 more rows</span></span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="mapping">Mapping<a class="anchor" aria-label="anchor" href="#mapping"></a>
</h3>
<p>This dataset contains a table with all the activity names on the UNIL
Sport center and the sub-activity/specific motion names in the MET
values table. From the name we can have an idea of the purpose of the
dataset. This table will mapped the sport activities with the MET valus
when using the <code>get_cleanschedule_met</code> function.</p>
<p>To learn the meaning of each column, enter the <code><a href="../reference/mapping.html">?mapping</a></code>
command in the console.</p>
<div class="section level4">
<h4 id="example-2">Example<a class="anchor" aria-label="anchor" href="#example-2"></a>
</h4>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># To load the data</span></span>
<span><span class="fu">UnilSports</span><span class="fu">::</span><span class="va"><a href="../reference/mapping.html">mapping</a></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 171 × 2</span></span></span>
<span><span class="co">#&gt;   Activity                                  `Specific Motion`                   </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Musculation connectée / 1. Introduction   health club exercise classes, gener…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Tai ji quan / Tous niveaux                video exercise workouts, TV conditi…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Basketball / Pratique libre à l'extérieur basketball, general                 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Football / Pratique libre                 football, touch, flag, general      </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 167 more rows</span></span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="clean-sport-schedule">Clean Sport Schedule<a class="anchor" aria-label="anchor" href="#clean-sport-schedule"></a>
</h3>
<p>This dataset is linked to the previous datasets, as it contain the
information from the three of them. From this dataset we will be able to
use the functions related to the shiny application, as it is the one
containing all the information needed.</p>
<p>To understand the significance of each column, use the
<code><a href="../reference/clean_sport_schedule.html">?clean_sport_schedule</a></code> command in the console.</p>
<div class="section level4">
<h4 id="example-3">Example<a class="anchor" aria-label="anchor" href="#example-3"></a>
</h4>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># To load the data</span></span>
<span><span class="fu">UnilSports</span><span class="fu">::</span><span class="va"><a href="../reference/clean_sport_schedule.html">clean_sport_schedule</a></span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt;         Date Start time End time Duration_min</span></span>
<span><span class="co">#&gt; 1 2022-12-14          7        8           60</span></span>
<span><span class="co">#&gt; 2 2022-12-14          8        9           60</span></span>
<span><span class="co">#&gt; 3 2022-12-14          8        9           60</span></span>
<span><span class="co">#&gt; 4 2022-12-14          8        9           60</span></span>
<span><span class="co">#&gt; 5 2022-12-14          8        9           60</span></span>
<span><span class="co">#&gt;                                    Activity</span></span>
<span><span class="co">#&gt; 1         Réveil musculaire (Cours hybride)</span></span>
<span><span class="co">#&gt; 2                 Football / Pratique libre</span></span>
<span><span class="co">#&gt; 3 Basketball / Pratique libre à l'extérieur</span></span>
<span><span class="co">#&gt; 4                 Football / Pratique libre</span></span>
<span><span class="co">#&gt; 5                 Football / Pratique libre</span></span>
<span><span class="co">#&gt;                                  Location METs     p</span></span>
<span><span class="co">#&gt; 1                   CSS-Salle polyvalente  3.0 3.150</span></span>
<span><span class="co">#&gt; 2 Rugby-Foot Chamberonne 1/2 terrain nord  8.0 8.400</span></span>
<span><span class="co">#&gt; 3                           Basket Entier  6.5 6.825</span></span>
<span><span class="co">#&gt; 4                   Terrain Central Ouest  8.0 8.400</span></span>
<span><span class="co">#&gt; 5                     Terrain Central Est  8.0 8.400</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="unilsport-functions">UnilSport Functions<a class="anchor" aria-label="anchor" href="#unilsport-functions"></a>
</h2>
<p>Now, that we know a bit more about the datasets, we will be able to
use the functions. We have 7 functions within this package that we will
be describe on this section. Let’s have some fun!</p>
<div class="section level3">
<h3 id="web-scrape-unils-sport-center-webscrape_sports">Web Scrape UNIL’s Sport Center <code>webscrape_sports()</code><a class="anchor" aria-label="anchor" href="#web-scrape-unils-sport-center-webscrape_sports"></a>
</h3>
<p><code><a href="../reference/webscrape_sports.html">webscrape_sports()</a></code> allows you to web scrap the <a href="https://sport.unil.ch/" class="external-link">UNIL’s Sport Center</a> website for the
amount of days you want to know the sports schedules. The return output
is a data frame containing the weekly itinerary for the activity
sports.</p>
<p><strong>Note:</strong> <em>The UNIL’s Sport website do not have all
the activities if we try to get a date period above a week, for that
reason we have consider 7 days. But it is feasible to retrieve more than
on week a head.</em></p>
<div class="section level4">
<h4 id="example-4">Example<a class="anchor" aria-label="anchor" href="#example-4"></a>
</h4>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create Sport Schedule dataset</span></span>
<span><span class="va">sport_schedule</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/webscrape_sports.html">webscrape_sports</a></span><span class="op">(</span>days <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sport_schedule</span>,<span class="fl">5</span><span class="op">)</span> <span class="co"># Visualize the first 5 rows of the data frame</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 4</span></span></span>
<span><span class="co">#&gt;   Date       Timetable     Activity                                  Location   </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2022-12-19 08:00 – 09:00 Basketball / Pratique libre à l'extérieur Basket Ent…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2022-12-19 08:00 – 09:00 Football / Pratique libre                 Rugby-Foot…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2022-12-19 08:00 – 09:00 Football / Pratique libre                 Rugby-Foot…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2022-12-19 09:00 – 10:00 Basketball / Pratique libre à l'extérieur Basket Ent…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 1 more row</span></span></span>
<span></span>
<span><span class="co"># or without the parameter</span></span>
<span><span class="va">sport_schedule</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/webscrape_sports.html">webscrape_sports</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sport_schedule</span>,<span class="fl">5</span><span class="op">)</span> <span class="co"># Visualize the first 5 rows of the data frame</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 4</span></span></span>
<span><span class="co">#&gt;   Date       Timetable     Activity                                  Location   </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2022-12-19 08:00 – 09:00 Basketball / Pratique libre à l'extérieur Basket Ent…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2022-12-19 08:00 – 09:00 Football / Pratique libre                 Rugby-Foot…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2022-12-19 08:00 – 09:00 Football / Pratique libre                 Rugby-Foot…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2022-12-19 09:00 – 10:00 Basketball / Pratique libre à l'extérieur Basket Ent…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 1 more row</span></span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="web-scrape-met-values-webscrape_met">Web Scrape MET Values <code>webscrape_MET()</code><a class="anchor" aria-label="anchor" href="#web-scrape-met-values-webscrape_met"></a>
</h3>
<p><code><a href="../reference/webscrape_MET.html">webscrape_MET()</a></code> support the user to web scrap the MET
values from the <a href="https://golf.procon.org/met-values-for-800-activities/" class="external-link">Procon.org</a>
website. As we have mentioned before this will allow the
<code><a href="../reference/get_cleanschedule_met.html">get_cleanschedule_met()</a></code> function for the mapping of sports
activities and MET values. The return output is a data frame containing
the MET values of more than 800 activities.</p>
<div class="section level4">
<h4 id="example-5">Example<a class="anchor" aria-label="anchor" href="#example-5"></a>
</h4>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create MET values dataset</span></span>
<span><span class="va">met_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/webscrape_MET.html">webscrape_MET</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">met_values</span>,<span class="fl">10</span><span class="op">)</span> <span class="co"># Visualize the first 10 rows of the data frame</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 3</span></span></span>
<span><span class="co">#&gt;   Activity  `Specific Motion`                         METs</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> bicycling bicycling, mountain, uphill, vigorous     14  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> bicycling bicycling, mountain, competitive, racing  16  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> bicycling bicycling, BMX                             8.5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> bicycling bicycling, mountain, general               8.5</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 6 more rows</span></span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="wrangling-and-cleaning-get_cleanschedule_met">Wrangling and Cleaning <code>get_cleanschedule_met()</code><a class="anchor" aria-label="anchor" href="#wrangling-and-cleaning-get_cleanschedule_met"></a>
</h3>
<p><code><a href="../reference/get_cleanschedule_met.html">get_cleanschedule_met()</a></code> let you to link the previous
data frames (<code>met_values</code>, <code>sport_schedule</code>)
created to prepare the mapping of sports activities and MET values for
the optimization function <code><a href="../reference/optimize_schedule.html">optimize_schedule()</a></code>. The return
output contains a mapped dataframe containing sports activities, MET
values and the number of calories burned per weight (kg).</p>
<div class="section level4">
<h4 id="example-6">Example<a class="anchor" aria-label="anchor" href="#example-6"></a>
</h4>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Clean and Link the datasets</span></span>
<span><span class="va">clean_sport_schedule</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_cleanschedule_met.html">get_cleanschedule_met</a></span><span class="op">(</span><span class="va">sport_schedule</span>,<span class="va">met_values</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">clean_sport_schedule</span>,<span class="fl">5</span><span class="op">)</span> <span class="co"># Visualize the first 5 rows of the data frame</span></span>
<span><span class="co">#&gt;         Date Start time End time Duration_min</span></span>
<span><span class="co">#&gt; 1 2022-12-19          8        9           60</span></span>
<span><span class="co">#&gt; 2 2022-12-19          8        9           60</span></span>
<span><span class="co">#&gt; 3 2022-12-19          8        9           60</span></span>
<span><span class="co">#&gt; 4 2022-12-19          9       10           60</span></span>
<span><span class="co">#&gt; 5 2022-12-19          9       10           60</span></span>
<span><span class="co">#&gt;                                    Activity</span></span>
<span><span class="co">#&gt; 1 Basketball / Pratique libre à l'extérieur</span></span>
<span><span class="co">#&gt; 2                 Football / Pratique libre</span></span>
<span><span class="co">#&gt; 3                 Football / Pratique libre</span></span>
<span><span class="co">#&gt; 4 Basketball / Pratique libre à l'extérieur</span></span>
<span><span class="co">#&gt; 5                 Football / Pratique libre</span></span>
<span><span class="co">#&gt;                                  Location METs     p</span></span>
<span><span class="co">#&gt; 1                           Basket Entier  6.5 6.825</span></span>
<span><span class="co">#&gt; 2 Rugby-Foot Chamberonne 1/2 terrain nord  8.0 8.400</span></span>
<span><span class="co">#&gt; 3  Rugby-Foot Chamberonne 1/2 terrain sud  8.0 8.400</span></span>
<span><span class="co">#&gt; 4                           Basket Entier  6.5 6.825</span></span>
<span><span class="co">#&gt; 5 Rugby-Foot Chamberonne 1/2 terrain nord  8.0 8.400</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="optimization-optimize_schedule">Optimization <code>optimize_schedule()</code><a class="anchor" aria-label="anchor" href="#optimization-optimize_schedule"></a>
</h3>
<p><code><a href="../reference/optimize_schedule.html">optimize_schedule()</a></code> allows you to evaluate the calorie
burn per activity and time according to the parameters entered. The main
objective is to minimize the number of chosen activities. <span class="math display">\[min\sum_{i=1}^N x_i\]</span> where <span class="math inline">\(x_i\)</span> is a binary variable that is 1 if
activity <span class="math inline">\(i\)</span> is chosen and 0 if it is
not chosen.</p>
<p>This optimization function calculates the calorie burn subject to 3
constraints:</p>
<ol style="list-style-type: decimal">
<li>The total calorie burn must exceed the target calorie: <span class="math display">\[\sum_{i=1}^N (x_i \cdot cal_i) \geq
calburn\]</span> where <span class="math inline">\(cal_i\)</span> is the
calorie burn of activity <span class="math inline">\(i\)</span> and
<span class="math inline">\(calburn\)</span> is the target calorie.</li>
</ol>
<ol start="2" style="list-style-type: decimal">
<li><p>No overlapping time slots: We set constraints to ensure that no
more than one activity can be selected for any overlapping time
interval. For example, if activity A starts at 8.00 and ends at 9.00 and
activity B starts at 8.45 and ends at 9.15, they cannot be selected
together (i.e. only one of them can be selected). <span class="math display">\[\sum_{i \in A} x_i, \sum_{i \in B} x_i, \sum_{i
\in C} x_i,... \leq 1\]</span> for all overlapping time intervals <span class="math inline">\(A\)</span>, <span class="math inline">\(B\)</span>, <span class="math inline">\(C\)</span>, …</p></li>
<li><p>[Optional] Prohibiting the selection of duplicate activities: We
set constraints such that the same activity cannot be selected. For
example, if there are several Football sessions, only 1 Football session
can be selected. <span class="math display">\[\sum_{i \in I} x_i,
\sum_{i \in J} x_i, \sum_{i \in K} x_i, ... \leq 1\]</span> for all
duplicate activities <span class="math inline">\(I\)</span>, <span class="math inline">\(J\)</span>, <span class="math inline">\(K\)</span>, …</p></li>
</ol>
<p>for all duplicate activities where activity <span class="math inline">\(I\)</span>, <span class="math inline">\(J\)</span>, <span class="math inline">\(K\)</span>, … are the same activity.</p>
<p>To understand the significance of each parameter, use the
<code>?optimize_schedule()</code> command in the console.</p>
<div class="section level4">
<h4 id="example-7">Example<a class="anchor" aria-label="anchor" href="#example-7"></a>
</h4>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Amount of calories you want to burn</span></span>
<span><span class="va">calburn</span> <span class="op">&lt;-</span> <span class="fl">500</span></span>
<span></span>
<span><span class="co"># Date preference - keep the same format*</span></span>
<span><span class="va">date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2022-12-14'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Sport activity of interest</span></span>
<span><span class="co"># The activity has to appear on the date selected</span></span>
<span><span class="va">activity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Football / Pratique libre'</span>,<span class="st">'Badminton / Tous niveaux'</span>,</span>
<span>              <span class="st">'Aquagym'</span>, <span class="st">'Zumba'</span>, <span class="st">'Pilates'</span>, <span class="st">'Agrès'</span>, </span>
<span>              <span class="st">'Salsa cubaine / Débutants'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Your current weight(kg)</span></span>
<span><span class="va">weight</span> <span class="op">&lt;-</span> <span class="fl">50</span></span>
<span></span>
<span><span class="co"># Time availability</span></span>
<span><span class="va">time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'07:00 \u2013 19:00'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 1 if you want different activities, 0 otherwise</span></span>
<span><span class="va">flag_no_duplicate_activities</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span></span>
<span><span class="co"># Load the clean_sport_schedule from the package</span></span>
<span><span class="va">clean_sport_schedule</span> <span class="op">&lt;-</span> <span class="fu">UnilSports</span><span class="fu">::</span><span class="va"><a href="../reference/clean_sport_schedule.html">clean_sport_schedule</a></span></span>
<span></span>
<span><span class="co"># Apply optimize_schedule() function</span></span>
<span><span class="va">optimize_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/optimize_schedule.html">optimize_schedule</a></span><span class="op">(</span><span class="va">clean_sport_schedule</span>, <span class="va">date</span>, <span class="va">activity</span>, </span>
<span>                                    <span class="va">time</span>, <span class="va">calburn</span>, <span class="va">weight</span>,</span>
<span>                                    <span class="va">flag_no_duplicate_activities</span><span class="op">)</span></span>
<span><span class="co">#&gt; The optimization is successful</span></span>
<span><span class="co"># Call function and see the results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">optimize_output</span><span class="op">$</span><span class="va">table_result</span>,<span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt;          Date Start time End time time Duration_min                  Activity</span></span>
<span><span class="co">#&gt; 1  2022-12-14          8        9    1           60 Football / Pratique libre</span></span>
<span><span class="co">#&gt; 13 2022-12-14         11       12    1           60                   Pilates</span></span>
<span><span class="co">#&gt;                                   Location METs    p calburn</span></span>
<span><span class="co">#&gt; 1  Rugby-Foot Chamberonne 1/2 terrain nord    8 8.40   420.0</span></span>
<span><span class="co">#&gt; 13                   CSS-Salle polyvalente    3 3.15   157.5</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="pie-chart-pie_optim">Pie Chart <code>pie_optim()</code><a class="anchor" aria-label="anchor" href="#pie-chart-pie_optim"></a>
</h3>
<p><code><a href="../reference/pie_optim.html">pie_optim()</a></code> let the user print a pie chart reflecting
the output of the optimization function. This function will be use
inside the Shiny app function logic.</p>
<div class="section level4">
<h4 id="example-8">Example<a class="anchor" aria-label="anchor" href="#example-8"></a>
</h4>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Amount of calories you want to burn</span></span>
<span><span class="va">calburn</span> <span class="op">&lt;-</span> <span class="fl">500</span></span>
<span></span>
<span><span class="co"># Date preference - keep the same format*</span></span>
<span><span class="va">date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2022-12-14'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Sport activity of interest</span></span>
<span><span class="co"># The activity has to appear on the date selected</span></span>
<span><span class="va">activity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Football / Pratique libre'</span>,<span class="st">'Badminton / Tous niveaux'</span>,</span>
<span>              <span class="st">'Aquagym'</span>, <span class="st">'Zumba'</span>, <span class="st">'Pilates'</span>, <span class="st">'Agrès'</span>, </span>
<span>              <span class="st">'Salsa cubaine / Débutants'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Your current weight(kg)</span></span>
<span><span class="va">weight</span> <span class="op">&lt;-</span> <span class="fl">50</span></span>
<span></span>
<span><span class="co"># Time availability</span></span>
<span><span class="va">time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'07:00 \u2013 19:00'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 1 if you want different activities, 0 otherwise</span></span>
<span><span class="va">flag_no_duplicate_activities</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span></span>
<span><span class="co"># Load the clean_sport_schedule from the package</span></span>
<span><span class="va">clean_sport_schedule</span> <span class="op">&lt;-</span> <span class="fu">UnilSports</span><span class="fu">::</span><span class="va"><a href="../reference/clean_sport_schedule.html">clean_sport_schedule</a></span></span>
<span></span>
<span><span class="co"># Run the function</span></span>
<span><span class="va">optimize_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/optimize_schedule.html">optimize_schedule</a></span><span class="op">(</span><span class="va">clean_sport_schedule</span>, <span class="va">date</span>, <span class="va">activity</span>, </span>
<span>                                    <span class="va">time</span>, <span class="va">calburn</span>, <span class="va">weight</span>,</span>
<span>                                    <span class="va">flag_no_duplicate_activities</span><span class="op">)</span></span>
<span><span class="co">#&gt; The optimization is successful</span></span>
<span><span class="va">optim_plot</span> <span class="op">&lt;-</span> <span class="va">optimize_output</span><span class="op">$</span><span class="va">table_result</span></span>
<span></span>
<span><span class="co"># Call function</span></span>
<span><span class="fu"><a href="../reference/pie_optim.html">pie_optim</a></span><span class="op">(</span><span class="va">optim_plot</span><span class="op">)</span> </span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="optimization-app-startapp">Optimization App <code>startApp()</code><a class="anchor" aria-label="anchor" href="#optimization-app-startapp"></a>
</h3>
<p><code><a href="../reference/startApp.html">startApp()</a></code> allows the users to run automatically a
graphical user interface of the optimization tool. Here users are going
to be able to interact and get the time schedules of the preferred
sports activities with the optimal calorie burn.</p>
<p>The return output should be the shiny application of the Sports Unil
Plan</p>
<div class="section level4">
<h4 id="example-9">Example<a class="anchor" aria-label="anchor" href="#example-9"></a>
</h4>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Call the function</span></span>
<span><span class="fu"><a href="../reference/startApp.html">startApp</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="https://thumbs.gfycat.com/AcademicAssuredAvocet-size_restricted.gif"></p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Nadine Obeid.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
